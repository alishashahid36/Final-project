(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5922],{96423:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/presentations/notes/[presentationId]",function(){return n(46813)}])},34905:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var o=n(85893),r=n(67294),i=n(23100),s=n(86481);let a=e=>{let{audioList:t}=e,[n,a]=(0,r.useState)(""),l=(0,r.useRef)(),u=async()=>{if(l.current=new AudioContext,void 0!=l.current){let e=await Promise.all(t.map(e=>(0,s.r1)(l.current,e))),n=(0,s.yy)(l.current,e),o=URL.createObjectURL((0,s.jQ)(n,n.length));a(o)}};return(0,r.useEffect)(()=>{if(0!=t.length){if(1==t.length){a(t[0]);return}u().catch(e=>{console.log(e)})}},[t]),(0,o.jsx)(i.xu,{w:"full",children:""!=n?(0,o.jsx)("audio",{src:n,controls:!0,style:{width:"100%"}}):null})}},93173:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var o=n(67294),r=n(90682);let i=e=>{let[t]=(0,r.q)(e=>[e.isLogin]);return(0,o.useEffect)(()=>{void 0!==t&&e&&e(t)},[t]),{isLogin:t}}},46813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var o=n(85893),r=n(40918),i=n(23100),s=n(204),a=n(70654),l=n(7476),u=n(96177),c=n(29222),d=n(88911),p=n(54641),x=n(80743),h=n(67294),f=n(31855),m=n(9008),g=n.n(m),j=n(11163),w=n(32243),y=n(34905),b=n(93056),S=n(93173),C=n(64416),I=n(52132),v=n(42260);let k=e=>{let{getInputProps:t,getRadioProps:n}=(0,v.x)(e),r=t(),a=n();return(0,o.jsxs)(i.xu,{as:"label",children:[(0,o.jsx)("input",{...r}),(0,o.jsx)(s.k,{...a,cursor:"pointer",borderWidth:"1px",borderRadius:"20px",borderColor:"white",alignItems:"center",justifyContent:"center",h:8,px:5,_checked:{bg:"black",color:"white",borderColor:"grey"},_hover:{borderColor:"grey"},children:e.children})]})};var D=n(5152),T=n.n(D),L=n(26998),z=n(4527),P=n(72039);let R=T()(()=>n.e(5021).then(n.bind(n,45021)),{loadableGenerated:{webpack:()=>[45021]},ssr:!1}),_=()=>{(0,S.R)(e=>{e||(window.location.href="/login?redirectUrl=".concat(encodeURIComponent(window.location.href)))});let[e]=(0,P.k)(),t=(0,j.useRouter)(),[n,m]=(0,h.useState)(!1),[v,D]=(0,h.useState)({}),[T,_]=(0,h.useState)(!1),[q,E]=(0,h.useState)(!1),A=(0,h.useRef)(null);(0,h.useEffect)(()=>{m(!0)},[]),(0,h.useEffect)(()=>{var e;if(!n||!(null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.presentationId))return;let o=async()=>{var e;let n=await (0,f.sD)({param:{openId:(null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.presentationId)||""},query:{handleType:"notePreview"}});if(n.error){console.error(n.error),t.replace(C.pE);return}D(n.data.presentation)};o().catch(e=>console.log(e))},[n,t]);let[U,N]=h.useState("Auto"),{getRootProps:H,getRadioProps:O}=(0,r.a)({name:"framework",defaultValue:"Auto",onChange:N}),V=H(),B=()=>{if(q)return;let e=0;v.audioStatus===C.qD?e=C.UP:v.audioStatus===C.UP&&(e=C.qD),e&&(E(!0),(0,f.q$)({param:{openId:v.openId},body:{handleType:"audio",audioStatus:e}}).then(e=>{if(E(!1),e.error)return;let t={...v};return t.audioStatus=e.data.presentation.audioStatus,D(t),e.data.presentation}))},$=async()=>{_(!0);let e=await (0,f.zn)({param:{openId:v.openId},body:{handleType:"note",audioVoice:U.toLowerCase()}});_(!1),e.error||F(e.data.presentation)},F=e=>{let t={...v};t.noteStatus=e.noteStatus,t.noteText=e.noteText,t.audioList=e.audioList,t.audioStatus=e.audioStatus,D(t)};(0,h.useEffect)(()=>{if(v.noteStatus!==C.UP)return;let e=null,t=async()=>{let n=await (0,f.sD)({param:{openId:v.openId},query:{handleType:"noteCheck"}});if(n.error){e&&clearTimeout(e);return}n.data.presentation.noteStatus===C.qD?(e&&clearTimeout(e),F(n.data.presentation)):e=setTimeout(()=>{t()},C.U3)};return t().catch(e=>console.log(e)),()=>{e&&clearTimeout(e)}},[v.noteStatus]);let W=()=>{let e=document.createRange();e.selectNodeContents(A.current);let t=window.getSelection();t.removeAllRanges(),t.addRange(e);try{document.execCommand("copy"),t.removeAllRanges(),(0,I.CF)("Copied to clipboard.","success")}catch(e){console.error("Failed to copy:",e)}};return n&&v.pageList?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g(),{children:(0,o.jsx)("title",{children:v.name})}),(0,o.jsxs)(i.xu,{pos:"relative",minH:"100vh",children:[(0,o.jsx)(w.hV,{}),(0,o.jsxs)(i.xu,{pos:"relative",zIndex:"2",children:[(0,o.jsx)(w.zC,{dataItem:v,setDataItem:D,leftTabType:"preview",...e?{newRightButtons:[{buttonType:L.L.Download,options:{otherProps:{isSmallIcon:!0}}},{buttonType:L.L.Present,options:{otherProps:{isSmallIcon:!0}}}]}:{rightButtons:[{buttonType:z.L$.Download,buttonText:"Download Presentation"},{buttonType:z.L$.Present,buttonProps:{isSmallIcon:!0}}]}}),(0,o.jsx)(i.xu,{h:w.rt}),v.noteStatus===C.qD&&v.audioList&&v.audioList.length>0&&(0,o.jsx)(s.k,{w:"full",justifyContent:"center",children:(0,o.jsx)(i.xu,{maxW:"858px",w:"full",mt:[4,8],px:[4,0],children:(0,o.jsxs)(s.k,{alignItems:"center",justifyContent:"left",px:1,children:[(0,o.jsxs)(a.NI,{display:"flex",alignItems:"center",w:e?"10%":"25%",children:[(0,o.jsx)(l.r,{size:"sm",colorScheme:"customSwitchBlack",onChange:B,isChecked:v.audioStatus===C.qD}),!e&&(0,o.jsx)(u.l,{mb:0,ml:2,fontSize:"20",children:"AI Voice Over"})]}),(0,o.jsx)(s.k,{w:e?"90%":"75%",minH:"54px",children:v.audioStatus===C.qD&&(0,o.jsx)(y.$,{audioList:v.audioList})})]})})}),(0,o.jsx)(s.k,{w:"full",justifyContent:"center",children:(0,o.jsx)(i.xu,{maxW:"860px",w:"full",my:[4,8],px:[4,0],children:(0,o.jsxs)(i.xu,{w:"full",minH:"82vh",bgColor:"#fff",rounded:"8px",position:"relative",children:[(0,o.jsx)(i.xu,{px:[6,14],py:[4,6],ref:A,sx:{...e?{...C.Dr,h1:{...C.Dr.h1,lineHeight:"1.2",fontSize:"22px"},h2:{...C.Dr.h2,marginBottom:"0",lineHeight:"1.2",fontSize:"18px"},p:{...C.Dr.p,marginTop:"3px",fontSize:"14px"}}:{...C.Dr,h2:{...C.Dr.h2,marginBottom:"0",lineHeight:"1.2"},p:{...C.Dr.p,marginTop:"3px"}}},children:(0,o.jsx)(R,{children:v.noteText})}),v.noteStatus===C.qD&&(0,o.jsx)(s.k,{position:"fixed",left:[0,"auto"],bottom:0,w:["100%","860px"],py:[3,4],justifyContent:"center",alignItems:"center",bg:"rgba(250, 250, 250, 1)",children:(0,o.jsx)(c.z,{size:"lg",onClick:W,children:"Copy"})}),v.noteStatus===C.pA&&(0,o.jsx)(s.k,{position:"fixed",top:0,right:0,bottom:0,left:0,w:"full",justifyContent:"center",alignItems:"center",px:[5,2],bg:"rgba(254, 254, 254, 0.75)",children:(0,o.jsxs)(s.k,{py:"7",boxShadow:"0px 0px 0px 1px rgba(5, 5, 5, 0.33)",rounded:["10px","20px"],w:"500px",h:"260px",bgColor:"white",alignItems:"center",justifyContent:"space-between",flexDirection:"column",children:[(0,o.jsxs)(s.k,{w:"full",flexDirection:"column",alignItems:"center",children:[(0,o.jsx)(d.x,{fontWeight:"600",fontSize:"18px",color:"black",children:"AI Voice Over and Speaker Notes"}),(0,o.jsx)(d.x,{mt:"2",fontSize:"14px",color:"#343434",children:"Choose a voice for your Voice Over"})]}),(0,o.jsx)(p.U,{...V,children:["Auto","Female","Male"].map(e=>{let t=O({value:e});return(0,o.jsx)(k,{...t,children:e},e)})}),(0,o.jsx)(c.z,{size:["md","lg"],w:"80%",rounded:"10px !important",onClick:$,isLoading:T,children:"Generate"})]})}),v.noteStatus===C.UP&&(0,o.jsxs)(s.k,{position:"absolute",top:0,right:0,bottom:0,left:0,w:"full",justifyContent:"center",alignItems:"center",flexDirection:"column",bg:"rgba(254, 254, 254, 0.95)",children:[(0,o.jsx)(d.x,{children:"AI is Generating, please wait for a while."}),(0,o.jsx)(x.E,{w:"80%",size:"sm",mt:[6,10],colorScheme:"purple",isIndeterminate:!0})]})]})})})]})]})]}):(0,o.jsx)(b.E,{})};var q=_}},function(e){e.O(0,[260,3874,6556,5272,8371,7270,143,3071,8216,2243,9774,2888,179],function(){return e(e.s=96423)}),_N_E=e.O()}]);